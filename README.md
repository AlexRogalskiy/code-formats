# *Styled Code Formats*

> Generate SVG [styled code](https://en.wikipedia.org/wiki/Programming_style)

![GitHub tag (latest by date)](https://img.shields.io/github/v/tag/AlexRogalskiy/code-formats)
![GitHub Release Date](https://img.shields.io/github/release-date/AlexRogalskiy/code-formats)
![Lines of code](https://tokei.rs/b1/github/AlexRogalskiy/code-formats?category=lines)
![GitHub closed issues](https://img.shields.io/github/issues-closed/AlexRogalskiy/code-formats)
![GitHub closed pull requests](https://img.shields.io/github/issues-pr-closed/AlexRogalskiy/code-formats)
![GitHub repo size](https://img.shields.io/github/repo-size/AlexRogalskiy/code-formats)
![GitHub last commit](https://img.shields.io/github/last-commit/AlexRogalskiy/code-formats)
![GitHub](https://img.shields.io/github/license/AlexRogalskiy/code-formats)
![GitHub language count](https://img.shields.io/github/languages/count/AlexRogalskiy/code-formats)
![GitHub search hit counter](https://img.shields.io/github/search/AlexRogalskiy/code-formats/goto)
![GitHub Repository branches](https://badgen.net/github/branches/AlexRogalskiy/code-formats)
![GitHub Repository dependents](https://badgen.net/github/dependents-repo/AlexRogalskiy/code-formats)

[![DeepSource](https://deepsource.io/gh/AlexRogalskiy/code-formats.svg/?label=active+issues\&show_trend=true)](https://deepsource.io/gh/AlexRogalskiy/code-formats/?ref=repository-badge)
[![DeepScan grade](https://deepscan.io/api/teams/11946/projects/16612/branches/359964/badge/grade.svg)](https://deepscan.io/dashboard#view=project\&tid=11946\&pid=16612\&bid=359964)
[![Tokei](https://tokei.rs/b1/github/AlexRogalskiy/code-formats?category=lines)](https://github.com/XAMPPRocky/tokei)
![Mergify Status](https://img.shields.io/endpoint.svg?url=https://gh.mergify.io/badges/AlexRogalskiy/code-formats)
[![Reviewed by Hound](https://img.shields.io/badge/Reviewed_by-Hound-8E64B0.svg)](https://houndci.com)
[![DOI](https://zenodo.org/badge/340043450.svg)](https://zenodo.org/badge/latestdoi/340043450)
[![dependencies Status](https://status.david-dm.org/gh/AlexRogalskiy/code-formats.svg)](https://david-dm.org/AlexRogalskiy/code-formats)
[![devDependencies Status](https://status.david-dm.org/gh/AlexRogalskiy/code-formats.svg)](https://david-dm.org/AlexRogalskiy/code-formats?type=dev)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://raw.githubusercontent.com/alexrogalskiy/code-formats/master/LICENSE?token=AH44ZFH7IF2KSEDK7LSIW3C7YOFYC)
[![Issue](https://img.shields.io/github/issues/alexrogalskiy/code-formats)](https://img.shields.io/github/issues/alexrogalskiy/code-formats)
[![Forks](https://img.shields.io/github/forks/alexrogalskiy/code-formats)](https://img.shields.io/github/forks/alexrogalskiy/code-formats)
[![Stars](https://img.shields.io/github/stars/alexrogalskiy/code-formats)](https://img.shields.io/github/stars/alexrogalskiy/code-formats)
![code style](https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square)
[![Maintainability](https://api.codeclimate.com/v1/badges/42630e4e5baaacfb9bd0/maintainability)](https://codeclimate.com/github/AlexRogalskiy/code-formats/maintainability)
[![Total alerts](https://img.shields.io/lgtm/alerts/g/AlexRogalskiy/code-formats.svg?logo=lgtm\&logoWidth=18)](https://lgtm.com/projects/g/AlexRogalskiy/code-formats/alerts/)
[![Language grade: JavaScript](https://img.shields.io/lgtm/grade/javascript/g/AlexRogalskiy/code-formats.svg?logo=lgtm\&logoWidth=18)](https://lgtm.com/projects/g/AlexRogalskiy/code-formats/context:javascript)

[![Renovatebot](https://badgen.net/badge/renovate/enabled/green?cache=300)](https://renovatebot.com/)
[![Dependabot](https://img.shields.io/badge/dependabot-enabled-1f8ceb.svg?style=flat-square)](https://dependabot.com/)
[![NewReleases](https://newreleases.io/badge.svg)](https://newreleases.io/github/AlexRogalskiy/code-formats)
[![Hits-of-Code](https://hitsofcode.com/github/AlexRogalskiy/code-formats)](https://hitsofcode.com/github/AlexRogalskiy/code-formats/view)
[![ComVer](https://img.shields.io/badge/ComVer-compliant-brightgreen.svg)][tags]
![Website](https://img.shields.io/website?url=https://styled-code-formats.vercel.app/favicon.ico)

[![codecov](https://codecov.io/gh/AlexRogalskiy/code-formats/branch/master/graph/badge.svg?token=JDWQXAW6BU)](https://codecov.io/gh/AlexRogalskiy/code-formats)
[![CI](https://github.com/AlexRogalskiy/code-formats/workflows/CI/badge.svg)](https://github.com/AlexRogalskiy/code-formats/actions/workflows/build.yml)
[![GitHub Super-Linter](https://github.com/AlexRogalskiy/code-formats/workflows/Lint%20Code%20Base/badge.svg)](https://github.com/marketplace/actions/super-linter)
[![BCH compliance](https://bettercodehub.com/edge/badge/AlexRogalskiy/code-formats?branch=master)](https://bettercodehub.com/)

[![Gitpod Ready-to-Code](https://img.shields.io/badge/Gitpod-Ready--to--Code-blue?logo=gitpod)](https://gitpod.io/#https://github.com/AlexRogalskiy/code-formats)
[![Chat](https://img.shields.io/badge/chat-discussions-success.svg)](https://github.com/AlexRogalskiy/code-formats/discussions)
[![Open questions](https://img.shields.io/badge/Open-questions-blue.svg?style=flat-curved)](https://github.com/AlexRogalskiy/code-formats/labels/question)
[![Open bugs](https://img.shields.io/badge/Open-bugs-red.svg?style=flat-curved)](https://github.com/AlexRogalskiy/code-formats/labels/bug)

## *Table of contents*

- [*Description*](#description)
- [*How to use*](#how-to-use)
- [*Example*](#example)
- [*Visitor stats*](#visitor-stats)
- [*Licensing*](#licensing)
- [*Authors*](#authors)
- [*Versioning*](#versioning)
- [*Contribution*](#contribution)
- [*Acknowledgement*](#acknowledgement)
- [*Forks*](#forks)
- [*Issues*](#issues)
- [*Team Tools*](#team-tools)
- [*OpenGraph Card*](#opengraph-card)
- [*Development Support*](#development-support)

## *Description*

<p align="center" style="text-align:center;">
    <a href="https://www.typescriptlang.org/">
        <img src="https://img.shields.io/badge/typescript%20-%23007ACC.svg?&logo=typescript&logoColor=white" alt="TypeScript" />
    </a>
    <a href="https://www.repostatus.org/#active">
        <img src="https://img.shields.io/badge/Project%20Status-Active-brightgreen" alt="Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed." />
    </a>
    <a href="https://badges.pufler.dev">
        <img src="https://badges.pufler.dev/created/AlexRogalskiy/code-formats" alt="Project created status" />
    </a>
    <a href="https://badges.pufler.dev">
        <img src="https://badges.pufler.dev/updated/AlexRogalskiy/code-formats" alt="Project updated status" />
    </a>
</p>

***Styled Code Formats*** is a serverless function that generates dynamically images with styled code format (png, jpeg).
For the tech stack, ***Styled Code Formats*** using Typescript and serverless function from Vercel stack.

## *How to use*

It's simple, you can copy paste this markdown content, like this one:

```
![Styled Code Formats](https://styled-code-formats.vercel.app/api?theme=[value]&type=[value]&encoding=[value]&fullPage=[value]&width=[value]&height=[pattern]&selector=[value])
```

There are several options you can use from the list:

|  Options                | Description                            |   Type                     | Example       | Query Params            |
| ----------------------- | -------------------------------------- | -------------------------- | ------------- | ----------------------- |
| **\[Theme]**            | Screenshot theme                       | <code>String</code>        | default       | `?theme=[value]`        |
| **\[Type]**             | Image type                             | <code>String</code>        | png/jpeg      | `&type=[value]`         |
| **\[Encoding]**         | Image encoding                         | <code>String</code>        | base64/binary | `&encoding=[value]`     |
| **\[FullPage]**         | Enable/disable full page view          | <code>Boolean</code>       | true          | `&fullPage=[value]`     |
| **\[Width]**            | Screenshot image width                 | <code>String</code>        | 800px         | `&width=[value]`        |
| **\[Height]**           | Screenshot image height                | <code>String</code>        | 800px         | `&height=[value]`       |
| **\[Selector]**         | Html element selector                  | <code>String</code>        | #element      | `&selector=[value]`     |

Here is a list of supported screenshot themes:

| **Name**                          | **Value**                     |
| --------------------------------- | ----------------------------- |
| **Default**                       | default                       |

## *Example*

This is example of using ***Styled Code Formats***:

- curl command:

```shell script
curl -d "data=Y29uc29sZS5sb2coImhlbGxvIHdvcmxkIik=" -X POST https://styled-code-formats.vercel.app/api?[params]
```

- NodeJS script:

```typescript
import { readFile, writeFile } from 'fs'
import { stringify } from 'querystring'

import * as fetchImport from 'node-fetch'

import { promisify } from 'util'

const fetch = fetchImport.default || fetchImport
const readFileAsync = promisify(readFile)
const writeFileAsync = promisify(writeFile)

const getScreenshot = async (): Promise<void> => {
    const code = await readFileAsync('./typings/form-data/form-data.d.ts')

    const language = 'ts'

    const params = {
        backgroundColor: '#E6EDF8',
        dropShadow: true,
        dropShadowBlurRadius: '68px',
        dropShadowOffsetY: '20px',
        fontFamily: 'Fira Code',
        fontSize: '14px',
        lineHeight: '133%',
        lineNumbers: false,
        paddingHorizontal: '35px',
        paddingVertical: '49px',
        squaredImage: false,
        theme: 'nord',
        widthAdjustment: true,
        language,
    }

    const data = `data=${code.toString('base64')}`

    try {
        const options = {
            method: 'POST',
            mode: 'cors',
            cache: 'no-cache',
            referrerPolicy: 'no-referrer',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: data,
        }

        const response = await fetch(
            `https://styled-code-formats.vercel.app/api?${stringify(params)}`,
            options
        )

        if (response.status === 200) {
            const text = await response.text()
            const imageData = `data:image/png;base64,${text.replaceAll('"', '')}`

            await writeFileAsync('./data/image.txt', imageData)
        } else {
            console.error(response)
        }
    } catch (error) {
        console.error(error)
    }
}

void getScreenshot()
```

## *Visitor stats*

[![GitHub page hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2FAlexRogalskiy%2Fcode-formats\&count_bg=%2379C83D\&title_bg=%23555555\&icon=\&icon_color=%23E7E7E7\&title=hits\&edge_flat=true)](https://hits.seeyoufarm.com)

![GitHub stars](https://img.shields.io/github/stars/AlexRogalskiy/code-formats?style=social)
![GitHub forks](https://img.shields.io/github/forks/AlexRogalskiy/code-formats?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/AlexRogalskiy/code-formats?style=social)

## *Licensing*

***Styled Code Formats*** is distributed under LGPL version 3 or later, \[[License](https://github.com/AlexRogalskiy/code-formats/blob/master/LICENSE)].
LGPLv3 is additional permissions on top of GPLv3.

![license](https://user-images.githubusercontent.com/19885116/48661948-6cf97e80-ea7a-11e8-97e7-b45332a13e49.png)

## *Authors*

***Styled Code Formats*** is maintained by the following GitHub team-members:

- [![Author](https://img.shields.io/badge/author-AlexRogalskiy-FB8F0A)](https://github.com/AlexRogalskiy)

with community support please contact with us if you have some question or proposition.

## *Versioning*

The project uses [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository][tags].

## *Contribution*

[![Contributors Display](https://badges.pufler.dev/contributors/AlexRogalskiy/code-formats?size=50\&padding=5\&bots=true)](https://badges.pufler.dev)

Please read
[CONTRIBUTING.md](https://github.com/AlexRogalskiy/code-formats/blob/master/.github/CONTRIBUTING.md)
for details on our code of conduct, and the process for submitting pull requests to us ([emoji key](https://allcontributors.org/docs/en/emoji-key)).

This project follows the [all-contributors](https://github.com/all-contributors/all-contributors) specification. Contributions of any kind are welcome!

[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](http://makeapullrequest.com)
![Github contributors](https://img.shields.io/github/all-contributors/AlexRogalskiy/code-formats)

See also the list of [contributors][contributors] who participated in this project.

## *Acknowledgement*

[![Stargazers repo roster for @AlexRogalskiy/code-formats](https://reporoster.com/stars/AlexRogalskiy/code-formats)][stars]

## *Forks*

[![Forkers repo roster for @AlexRogalskiy/code-formats](https://reporoster.com/forks/AlexRogalskiy/code-formats)][forkers]

## *Issues*

[![issuehunt-to-marktext](https://issuehunt.io/static/embed/issuehunt-button-v1.svg)](https://issuehunt.io/r/AlexRogalskiy/code-formats)

## *Team Tools*

[![alt tag](http://pylonsproject.org/img/logo-jetbrains.png)](https://www.jetbrains.com/)

***Styled Code Formats*** Team would like inform that JetBrains is helping by provided IDE to develop the application. Thanks to its support program for an Open Source projects!

[![Edit with Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/AlexRogalskiy/code-formats)

***Styled Code Formats*** has experimental support for Gitpod, a pre-configured development environment that runs in your browser. To use Gitpod, click the button below and sign in with GitHub. Gitpod also offers a browser add-on, though it is not required.

## *OpenGraph Card*

<p align="center" style="text-align:center;">
    <img alt="OpenGraph card" src="https://raw.githubusercontent.com/AlexRogalskiy/code-formats/master/images/opengraph-card.png"/>
</p>

## *Development Support*

Like ***Styled Code Formats*** ? Consider buying me a coffee :)

[![Become a Patron](https://img.shields.io/badge/Become_Patron-Support_me_on_Patreon-blue.svg?style=flat-square\&logo=patreon\&color=e64413)](https://www.patreon.com/alexrogalskiy)
[![Buy Me A Coffee](https://img.shields.io/badge/Donate-Buy%20me%20a%20coffee-yellow.svg?logo=buy%20me%20a%20coffee)](https://www.buymeacoffee.com/AlexRogalskiy)
[![KoFi](https://img.shields.io/badge/Donate-Buy%20me%20a%20coffee-yellow.svg?logo=ko-fi)](https://ko-fi.com/alexrogalskiy)

***

[![forthebadge](https://img.shields.io/badge/made%20with-%20typescript-C1282D.svg?logo=typescript\&style=for-the-badge)](https://www.typescriptlang.org/)
[![forthebadge](https://img.shields.io/badge/powered%20by-%20vercel-7116FB.svg?logo=vercel\&style=for-the-badge)](https://vercel.com/)
[![forthebadge](https://img.shields.io/badge/build%20with-%20%E2%9D%A4-B6FF9B.svg?logo=heart\&style=for-the-badge)](https://forthebadge.com/)

[repo]: https://github.com/AlexRogalskiy/code-formats

[tags]: https://github.com/AlexRogalskiy/code-formats/tags

[issues]: https://github.com/AlexRogalskiy/code-formats/issues

[pulls]: https://github.com/AlexRogalskiy/code-formats/pulls

[wiki]: https://github.com/AlexRogalskiy/code-formats/wiki

[stars]: https://github.com/AlexRogalskiy/code-formats/stargazers

[forkers]: https://github.com/AlexRogalskiy/code-formats/network/members

[contributors]: https://github.com/AlexRogalskiy/code-formats/graphs/contributors
